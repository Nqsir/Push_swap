# **************************************************************************** #
#                                                           LE - /             #
#                                                               /              #
#    Makefile                                         .::    .:/ .      .::    #
#                                                  +:+:+   +:    +:  +:+:+     #
#    By: vsteyaer <marvin@le-101.fr>                +:+   +:    +:    +:+      #
#                                                  #+#   #+    #+    #+#       #
#    Created: 2018/06/29 17:49:25 by vsteyaer     #+#   ##    ##    #+#        #
#    Updated: 2018/06/29 18:33:59 by vsteyaer    ###    #+. /#+    ###.fr      #
#                                                          /                   #
#                                                         /                    #
# **************************************************************************** #

NAME = ../checker

FLAGS = -Wall -Wextra -Werror

DIR_SRC = ./srcs/
DIR_INC = ./includes/
DIR_OBJ = ./objs/
DIR_LIBFT = ../libft/

INC = ./includes/checker.h

SRC_FILES = main.c \
		check.c \
		create.c \
		push.c \
		rotate.c \
		swap.c \
		switch.c \
		utils.c \

SRC = $(addprefix $(DIR_SRC), $(SRC_FILES))
OBJ = $(addprefix $(DIR_OBJ), $(SRC_FILES:.c=.o))
LIBFT = $(addprefix $(DIR_LIBFT), libft.a)
LIB = -L $(DIR_LIBFT) -lft

all: $(NAME)

$(NAME): $(DIR_OBJ) $(LIBFT) $(OBJ)
	@printf "Compilation of \033[1m$@\033[0m ...‚åõÔ∏è  \n"
	@gcc $(OBJ) $(LIB) -o $(NAME)
	@echo " üíé üíé üíé  EXECUTABLE CHECKER CREATED üíé üíé üíé  "

$(DIR_OBJ):
	@mkdir -p $(DIR_OBJ)

$(LIBFT):
	@printf " Compilation of \033[1m$@\033[0m ... ‚åõÔ∏è "
	@make -C $(DIR_LIBFT)
	@echo "\n üíØ üíØ üíØ  LIBFT COMPILED IN CHECKER_FILES üíØ üíØ üíØ  \n"

$(DIR_OBJ)%.o: $(DIR_SRC)%.c $(INC)
	@gcc $(FLAGS) -I $(DIR_LIBFT) -I $(DIR_INC) -o $@ -c $<

clean:
	@rm -Rf $(DIR_OBJ)
	@make -C $(DIR_LIBFT) clean
	@echo "\n ‚ùå ‚ùå ‚ùå  CHECKER OBJS DELETED ‚ùå ‚ùå ‚ùå  \n"

fclean: clean
	@rm -f $(NAME)
	@make -C $(DIR_LIBFT) fclean
	@echo "\n ‚ö†Ô∏è ‚ö†Ô∏è ‚ö†Ô∏è  CHECKER EXECUTABLE DELETED ‚ö†Ô∏è ‚ö†Ô∏è ‚ö†Ô∏è  \n"

re: fclean all

.PHONY: all clean fclean re
